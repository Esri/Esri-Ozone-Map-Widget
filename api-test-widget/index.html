<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>API Test Widget</title>
    <script src="js/vendor/owf-widget-debug.js"></script>
    <script src="../api/cmwapi-1.1.js"></script>

</head>
<body>

<!-- Simplistic first implementation...  buttons in a form -->
       <form>
           <input type="button" id="statusButton" value="Get Status" onclick="Map.status.request(types);"></input>
           <input type="button" id="invalidStatusButton" value="Invalid Status" onclick="Map.status.request(invalidTypes);"</input>
           <input type="button" id="handleStatusButton" value="Handle Status" onclick="Map.status.handleRequest(statusHandler);"></input>
       </form>

        <script>
            OWF.relayFile =  "/api-test-widget/js/eventing/rpc_relay.uncompressed.html"
            <!-- set up message handling, once OWF is online -->
            OWF.ready( function() {
/*
                alert("Available for eventing, etc...")
                document.getElementById("statusButton").addEventListener("click", Map.status.request() );
*/

            })

            var statusHandler =  function(sender, msg) {
                OWF.Eventing.publish('foo', 'howdy from sender ' + sender + ' with msg ' + msg);
            }
            var types = Map.status.SUPPORTED_STATUS_TYPES;
            var invalidTypes = ['foo', 'bar'];

        </script>
</body>
</html>